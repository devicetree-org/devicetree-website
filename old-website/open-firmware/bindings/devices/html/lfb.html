<HTML>
<body bgcolor="#ffffff" text="#000000"
link="#0000ff" vlink="#ff0000" alink="ff0000">

<TITLE>
CHRP Linear Frame Buffer Display Device Binding
</TITLE>

<center>
<H1>
CHRP<TT>(TM)</TT> Linear Frame Buffer Display
<br>
Device Binding to
<br>
<br>
IEEE 1275-1994<br>
Standard for Boot (Initialization,<br>
Configuration) Firmware<br>
</H1>
<br>

Revision: 1.0 Unapproved DRAFT
<br>
<br>

May 6,1996
<br>
</center>
<HR><H2>Table of Contents</H2>

<UL>
<A HREF="lfb-1_0d.html#HDR0"><B>1.   Purpose of this Device Binding</B></A>
<BR>

<A HREF="lfb-1_0d.html#HDR1"><B>2.   Revision History</B></A>
<BR>

<A HREF="lfb-1_0d.html#HDR2"><B>3.   References</B></A>
<BR>

<A HREF="lfb-1_0d.html#HDR3"><B>4.   Definition of Terms</B></A>
<BR>

<A HREF="lfb-1_0d.html#HDR4"><B>5.   Device Characteristics (Informative)</B></A>
<BR>

<A HREF="lfb-1_0d.html#HDR5"><B>6.   Device-specific Configuration Variables</B></A>
<BR>

<A HREF="lfb-1_0d.html#HDR6"><B>7.   Device Nodes</B></A>

<UL>
<A HREF="lfb-1_0d.html#HDR7">7.1.   Properties</A>

<UL>
<A HREF="lfb-1_0d.html#HDR8">7.1.1.   Open Firmware-defined Properties for Device Nodes</A>
<BR>

<A HREF="lfb-1_0d.html#HDR9">7.1.2.   Device-specific Properties for Device Nodes</A>
</UL>

<A HREF="lfb-1_0d.html#HDR10">7.2.   Methods</A>

<UL>
<A HREF="lfb-1_0d.html#HDR11">7.2.1.   Open Firmware-defined Methods for Device Nodes</A>

<UL>
<A HREF="lfb-1_0d.html#HDR12">7.2.1.1.   Device Arguments for &quot;Open&quot; Method</A>
</UL>

<A HREF="lfb-1_0d.html#HDR13">7.2.2.    Device-specific Methods for Device Nodes</A>
</UL>
</UL>

<A HREF="lfb-1_0d.html#HDR14"><B>8.   User Interface Commands</B></A>

<UL>
<A HREF="lfb-1_0d.html#HDR15">8.1.   Open Firmware-defined User Interface Commands</A>
<BR>

<A HREF="lfb-1_0d.html#HDR16">8.2.   Device-specific User Interface Commands</A>
</UL>

<A HREF="lfb-1_0d.html#HDR17"><B>9.   Device State</B></A>

<UL>
<A HREF="lfb-1_0d.html#HDR18">9.1.   Device State When Client is Started</A>
<BR>

<A HREF="lfb-1_0d.html#HDR19">9.2.   Device State Required When Client Calls Open Firmware</A>
</UL>

<A HREF="lfb-1_0d.html#HDR20"><B>10.   Other Commentary</B></A>
</UL>


<HR><!-- This file was created with the fm2html filter.The filter is copyright Norwegian Telecom Research and was programmed by Jon Stephenson von Tetzchner.  --><H2><A NAME="HDR0">1.   Purpose of this Device Binding</A></H2>
This document specifies the application of Open Firmware to the PowerPC Common Hardware Reference Platform (CHRP) linear frame buffer devices, including device-specific requirements and practices for initialization, properties, and methods.<p>
<H2><A NAME="HDR1">2.   Revision History</A></H2>
Revision 1.0 Unapproved DRAFT     ,   Initial revision. Jordan Brown, Sunsoft and John Kingman, IBM editors<p>
<H2><A NAME="HDR2">3.   References</A></H2>
This Open Firmware System binding standard <I>shall</I> be used in conjunction with the following publications. When the following standards are superseded by an approved revision, the revision <I>shall</I> apply.<p>
<DL COMPACT>
<DT><A NAME="REF69242">[1]  </A><DD><I>IEEE Std 1275-1994 Standard for Boot (Initialization, Configuration) Firmware, Core Practices and Requirements</I>.
<DT><A NAME="REF14175">[2]  </A><DD><I>Core Errata, IEEE P1275.7/D4.</I>
<DT><A NAME="REF56955">[3]  </A><DD><I>Open Firmware Recommended Practice: 8-bit Graphics Extension</I>.
<DT><A NAME="REF12590">[4]  </A><DD><I>Open Firmware Recommended Practice: 16-color Text Extension.</I>
<DT><A NAME="REF16160">[5]  </A><DD><I>PowerPC Microprocessor Common Hardware Reference Platform: I/O Device Reference</I>. This document describes the PowerPC Common Hardware Reference Platform (CHRP) System Standard I/O Devices; hardware registers, register locations, and hardware attributes.
<DT><A NAME="REF67496">[6]  </A><DD><I>Open Firmware Recommended Practice: Generic Names</I>.
<DT><A NAME="REF92630">[7]  </A><DD><I>PowerPC Microprocessor Common Hardware Reference Platform binding to: IEEE Std 1275-1994, Standard for Boot (Initialization, Configuration) Firmware</I>.
</DL>
<H2><A NAME="HDR3">4.   Definition of Terms</A></H2>
<H2><A NAME="HDR4">5.   Device Characteristics (Informative)</A></H2>
A linear frame buffer device consists of a linear video frame buffer and a video digital-to-analog converter. The video frame buffer is mapped as a continuous memory-mapped area of 8 bit pixels. The video DAC drives the analog output to the display connector.<p>
CHRP<A HREF="lfb-1_0d.html#REF16160">[5]</A> requires a linear frame buffer device to display 640 x 480 pixels, where each pixel is 8-bits.<p>
Generally, a linear frame buffer will be provided as a sub-function of a more comprehensive graphics implementation. In that case, the linear frame buffer will be supported by a set of methods provided in the &quot;display&quot; device node.<p>
<H2><A NAME="HDR5">6.   Device-specific Configuration Variables</A></H2>
None. <p>
<H2><A NAME="HDR6">7.   Device Nodes</A></H2>
<H3><A NAME="HDR7">7.1.   Properties</A></H3>
As specified in <A HREF="lfb-1_0d.html#REF69242">[1]</A>, <A HREF="lfb-1_0d.html#REF34886">[3]</A>, <A HREF="lfb-1_0d.html#REF12590">[4]</A>, and <A HREF="lfb-1_0d.html#REF92630">[7]</A>, with the following additions or modifications.<p>
<H4><A NAME="HDR8">7.1.1.   Open Firmware-defined Properties for Device Nodes</A></H4>
<H4>  &quot;name&quot;    S</H4>
Standard <I>property name</I>, specifies the generic name of the device. <p>
The meaning of this property is as defined in Open Firmware core document <A HREF="lfb-1_0d.html#REF69242">[1]</A>, as modified by the <I>Generic Names Recommended Practice</I> <A HREF="lfb-1_0d.html#REF67496">[6]</A>. The value for nodes described by this specification shall be &quot;display&quot;.<p>
<H4>  &quot;device_type&quot;    S</H4>
Standard <I>property name</I> to define the device's implemented interface. <p>
The meaning of this property is as defined in the Open Firmware core document <A HREF="lfb-1_0d.html#REF69242">[1]</A>. The value for nodes described by this specification shall be &quot;display&quot;.<p>
<H4>  &quot;compatible&quot;    S</H4>
Standard <I>property name</I>, specifies device names with which this device is compatible. <p>
The meaning of this property is as defined in Open Firmware, as modified by the <I>Generic Names Recommended Practice</I> <A HREF="lfb-1_0d.html#REF67496">[6]</A>. As described in those documents, the entries are a list of device names with which this device is compatible, starting with the name of the device itself and progressing through successively less precise and possibly less functional compatible devices.<p>
The value of this property shall include &quot;chrp,lfb.&quot;<p>
Additional entries may be supplied, at their appropriate position in the list, to describe devices with which this device is compatible.<p>
<H4>  &quot;reg&quot;    S</H4>
Standard <I>property name</I> to define the package's addressable functions. <p>
The meaning of this property is as defined in the Open Firmware core document <A HREF="lfb-1_0d.html#REF69242">[1]</A>. It describes the device's register set. The values which shall be assigned to this property are defined in the device's interface specification.<p>
<H4><A NAME="HDR9">7.1.2.   Device-specific Properties for Device Nodes</A></H4>
<H4>  &quot;iso6429-1983-colors&quot;    S</H4>
Standard <I>property name</I> to indicate 16-color text (logo) capability. <p>
<I>prop-encoded-array</I>: None; presence or absence of the property conveys the information.<p>
See the Open Firmware Recommended Practice: <I>16-color Text Extension</I>. for more information.<p>
<H4>  &quot;height&quot;    S</H4>
<I>prop-name</I>, specifies the visible height of the screen. <p>
<I>prop-encoded-array</I>: An integer, encoded with <B>encode-integer</B>. <p>
This property shall specify the maximum number of vertical pixels visible on the screen in the current mode.<p>
<H4>  &quot;width&quot;    S</H4>
<I>prop-name</I>, specifies the visible width of the screen. <p>
<I>prop-encoded-array</I>: An integer, encoded with <B>encode-integer</B>. <p>
This property shall specify the maximum number of horizontal pixels visible on the screen in the current mode.<p>
<H4>  &quot;linebytes&quot;    S</H4>
<I>prop-name</I>, specifies the width of the frame buffer. <p>
<I>prop-encoded-array</I>: An integer, encoded with <B>encode-integer</B>. <p>
This property shall specify the number of bytes from the beginning of one scan line to the beginning of the next.<p>
<H3><A NAME="HDR10">7.2.   Methods</A></H3>
<H4><A NAME="HDR11">7.2.1.   Open Firmware-defined Methods for Device Nodes</A></H4>
As specified in [1], without addition or modification.<p>
<H5><A NAME="HDR12">7.2.1.1.   Device Arguments for &quot;Open&quot; Method</A></H5>
As specified in [1], without addition or modification.<p>
<H4><A NAME="HDR13">7.2.2.    Device-specific Methods for Device Nodes</A></H4>
As defined in the Open Firmware Recommended Practices <I>8-bit Graphics Extension</I><A HREF="lfb-1_0d.html#REF56955">[3]</A> and <I>16-color Text Extension</I><A HREF="lfb-1_0d.html#REF12590">[4]</A>.<p>
<H2><A NAME="HDR14">8.   User Interface Commands</A></H2>
<H3><A NAME="HDR15">8.1.   Open Firmware-defined User Interface Commands</A></H3>
None.<p>
<H3><A NAME="HDR16">8.2.   Device-specific User Interface Commands</A></H3>
None.<p>
<H2><A NAME="HDR17">9.   Device State</A></H2>
<H3><A NAME="HDR18">9.1.   Device State When Client is Started</A></H3>
For devices not selected as Open Firmware's &quot;console input device&quot; or &quot;console output device&quot; device, the initial state is undefined.<p>
For devices which are selected as Open Firmware's &quot;console input device&quot; or &quot;console output device&quot; device, the device shall be initialized appropriately for the device to which it is attached.<p>
<H3><A NAME="HDR19">9.2.   Device State Required When Client Calls Open Firmware</A></H3>
For devices not selected as Open Firmware's &quot;console input device&quot; or &quot;console output device&quot; device, there is no requirement.<p>
For devices selected as Open Firmware's &quot;console input device&quot; or &quot;console output device&quot; device, the state should be unmodified from the initial state on client start-up.<p>
Note:  If the device is in a different state when the client calls Open Firmware, unpredictable behavior may result if Open Firmware accepts input or generates output. Clients changing the device state should either restore the original state before calling Open Firmware or should avoid using Open Firmware features requiring user interaction. Changing the device state is likely to render Open Firmware unusable for debugging purposes.<p>
<H2><A NAME="HDR20">10.   Other Commentary</A></H2>
<A NAME="ENDFILE"><PRE> </PRE></A>
</HTML>
